<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0"> 
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP&display=swap" rel="stylesheet"> 
    <link href="https://fonts.googleapis.com/css2?family=Didact+Gothic&family=Spartan:wght@500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"> 
    <title>DAFS Viz</title>
  </head>
  <body>
    <div class="nav">
      <a href="https://donoradvisedfunds.info">Donor Advised Funds.info</a> 
      <div id="go">Below, explore how much money was granted from donor advised funds to each U.S. state in 2018.</div> 
      <!-- <a href="/landingpage.html">Search</a> 
      <a href="/landingpage.html#news-articles">News</a> 
      <a href="#">2020 Report</a>
      <a href="/landingpage.html">About</a>
      <a href="/faq.html">About the Data</a> -->
    </div>
    <div class="grid">
      <div class="search">
        <div class="search_box">
          <h2>Search a DAF</h2>
          <!-- <form id="searchinput">
          <input type="text" id="searchdaf" name="searchdaf">
          <input type="button" value="Search" id="searchBtn"></button>
          </form> -->
          <div id="dropdown"></div>
          <label for="dropdown">Search Organization Name</label>
          <label for="dropdown">2018 Data sourced from <a href="https://docs.opendata.aws/irs-990/readme.html">IRS-990 Filings</a></label>


        </div>
      </div>
      <div class="topinfo">
        <p>The flow diagram shows the amount of money donated from each donor advised fund selected to each state.</p>
        <p>Grants flow from donor advised funds (on the left) to states (on the right). Hover over for more information.</p>

      </div>
      <div class='infoBoxes'>
        <div class="daf_info1" id="daf1">
          <h3>None Selected</h3>
        </div>
        <div class="daf_info2" id="daf2">
          <h3>None Selected</h3>
        </div>
        <div class="daf_info3" id="daf3">
          <h3>None Selected</h3>
        </div>
        <div class="daf_about">
          <h3>About</h3>
          <p>A donor-advised fund is like a bank account earmarked for donations while the funds appreciate.</p>
          <p>These graphics visualize 2018 data sourced from <a href="https://docs.opendata.aws/irs-990/readme.html">IRS-990 Filings</a>.</p>
          <p><b>Why might numbers differ from Amount Granted and what is mapped on the state flow chart?</b> Due to IRS reporting regulations, the aggregate amount reported here is only for a specific type of grant. Furthermore, organizations are not required to report individual grantees if the amount was less than $5,000. This means totals may differ.</p>
        </div>
      </div>
      <div class="map">
        <div id="mapviz"></div>
      </div>      
      <div class="bar_chart_desc">
        <div class="flex_bars_container" id="bars_about">
          <p><b>Number of Accounts Held</b> indicates how many accounts the sponsoring organization holds - do they serve many or few people?</p>
          <p><b>Amount Granted</b> indicates how much money left the bank accounts in 2018 and went to nonprofits.</p>
          <p><b>Amount Deposited</b> indicates how much money people put in the accounts in 2018 - is money staying in the account or being distributed?</p>
        </div>
      </div>
      <div class="percent1" id="bar1" onmouseover="highlight(1);" onmouseout="unhighlight(1);">
      </div>
      <div class="percent2" id="bar2"onmouseover="highlight(3);" onmouseout="unhighlight(3);">
      </div>
      <div class="percent3" id="bar3"onmouseover="highlight(5);" onmouseout="unhighlight(5);">
      </div>

    </div>
    <script src="bundle.js"></script>
    <script>
      function highlight(x) {
        var e = document.getElementById('bars_about').childNodes[x];
        e.setAttribute('style', 'font-weight:bold; background-color: lightgray');
      }

      function unhighlight(x) {
        var e = document.getElementById('bars_about').childNodes[x];
        e.setAttribute('style', 'font-weight: normal; text-shadow: none;');
      }
    </script>
    <noscript>
      <style type="text/css">
          .grid {display:none;}
      </style>
      <div class="noscriptmsg">
      This visualization requires Javascript to be enabled. 
      </div>
    </noscript>

  <div id="test"></div>
  </body>
  <footer>
    <a href="https://github.com/leppekja" class="social">
        <i class="fa fa-github fa-2x fa-fw"></i>
    </a>
    <a href="mailto:leppekj@uchicago.edu" class="social">
        <i class="fa fa-envelope-o fa-2x fa-fw"></i>
    </a>
    <a href="https://www.linkedin.com/in/leppekja" class="social">
        <i class="fa fa-linkedin fa-2x fa-fw"></i>
    </a>
  </footer>
</html>
